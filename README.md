# REST API на основе FastAPI и базы данных Neo4j

## Описание проекта

Данный проект представляет собой серверное REST API, разработанное с использованием фреймворка FastAPI для работы с графовой базой данных Neo4j. API предоставляет точки доступа для выполнения CRUD-операций с узлами и связями графа, а также тестирование их функциональности.

---

## Функциональные возможности

### Реализованные точки доступа

#### 1. Получение всех узлов
- **Метод**: `GET`
- **Эндпоинт**: `/entities`
- **Описание**: Возвращает список всех узлов с их атрибутами `id` и `label`.

#### 2. Получение узла и его связей
- **Метод**: `GET`
- **Эндпоинт**: `/entities/{id}`
- **Описание**: Возвращает данные об указанном узле и всех его связях с другими узлами. Узлы и связи включают все доступные атрибуты.

#### 3. Добавление нового узла и связей
- **Метод**: `POST`
- **Эндпоинт**: `/entities`
- **Описание**: Добавляет новый узел с указанными атрибутами и связями.
- **Защита**: Доступ к эндпоинту закрыт с помощью токена авторизации.

#### 4. Удаление узла и связей
- **Метод**: `DELETE`
- **Эндпоинт**: `/entities/{id}`
- **Описание**: Удаляет указанный узел и все связанные с ним связи.
- **Защита**: Доступ к эндпоинту закрыт с помощью токена авторизации.

#### 5. Получение всех узлов со связями
- **Метод**: `GET`
- **Эндпоинт**: `/entities_with_associations`
- **Описание**: Возвращает все узлы и их связи с атрибутами.

---

## Установка и запуск

### Требования

- Python 3.8+
- Установленная база данных Neo4j
- Установленные зависимости из файла `requirements.txt`

### Установка

1. Клонируйте репозиторий:
   ```bash
   git clone https://github.com/Proschenko/REST-API--fast-api--from-neo4j-db.git
   cd REST-API--fast-api--from-neo4j-db
   ```

2. Установите зависимости:
   ```bash
   pip install -r requirements.txt
   ```

3. Создайте файл `.env` и укажите параметры подключения к базе данных Neo4j *(токен статичный)*:
   ```env
   NEO4J_URI=bolt://localhost:7687
   NEO4J_USERNAME=ваш_логин
   NEO4J_PASSWORD=ваш_пароль
   API_TOKEN=secret_token    
   ```

### Запуск

1. Запустите приложение:
   ```bash
   uvicorn main:app --reload
   ```

2. Приложение будет доступно по адресу: `http://127.0.0.1:8000`

3. Документация swagger: `http://127.0.0.1:8000/docs#`
---

## Тестирование

### Запуск тестов

Для проверки функциональности API предусмотрены тесты, написанные с использованием `pytest`.

1. Убедитесь, что приложение и база данных запущены.
2. Запустите тесты:
   ```bash
   pytest test.py
   ```

---


## Основные зависимости

- `fastapi`
- `neo4j`
- `pydantic`
- `python-dotenv`

---
